# 计划完成

- 了解muscllibc，sel4muslsys如何与sel4内核交互
- 构建测试系统，发起符合posix标准的系统调用(如malloc)，查看调用路径与请求的内核资源

# 实际完成

- 配置测试环境，发现malloc是否涉及系统调用取决于sel4muslsys config中的`CONFIG_LIB_SEL4_MUSLC_SYS_MORECORE_BYTES`,该变量=0时malloc动态分配内存，涉及系统调用；大于0时malloc静态分配内存，不涉及系统调用。
  - 动态分配内存时，用户态app需在malloc函数调用前做初始化工作，调用sel4allocman库。

- 掌握动态分配情况下一次malloc(申请内存一页以内)涉及的sel4系统调用。12次untyped_retype;4次Page_Map;1次pagetable _map
- 阅读sel4muslsys源码，掌握不同类型系统调用的调用路径

# 待完成

- malloc涉及的内存分配库sel4allocman如何管理空闲内存，untyped能力
- 用户态app使用malloc前准备工作的具体内容
  - 初始化管理untyped_cap的数据结构
  - 物理内存管理算法：k_r_malloc
  - vka&allocman初始化
- 查看其他系统调用路径

